# 자재 정보 관리

## 1. 화면 개요

### 1.1 기본 정보

- **화면명**: 자재 정보 관리
- **목적**: 자재 마스터 데이터 관리, 자재 세트 관리

---

## 2. 탭 구성

2개의 탭으로 구성됨:

- **탭 1: 자재 품목** (기본)
- **탭 2: 자재 세트 관리**

---

## 3. 탭 1: 자재 품목

### 3.1 초기 로드

- 전체 자재 마스터 목록 조회
- 자재 마스터 데이터 로딩 중 안내 메시지 표시
- 자재코드 기준 정렬

### 3.2 검색/필터 영역

**필터 옵션:**

- 카테고리 전체 / CCTV / 네트워크 / 센서 / 케이블 등
- 제조사 전체 / 한화테크윈 / 하이크비전 / 대한전선 등
- 키워드 검색 (자재명/코드/제조사)

**[초기화] 버튼:** 모든 필터 초기화 후 전체 재조회

### 3.3 요약 영역

```
전체 자재: 1,234개 | 카테고리: 15개
```

**[+ 새 자재 등록] 버튼:**

- 클릭 시 자재 등록 모달 오픈
- 폼 필드 초기화

### 3.4 목록 테이블

**컬럼 구조:**

| 컬럼명 | 표시 내용 | 비고 |
| --- | --- | --- |
| 자재 코드 | CAM-001 | 자동 생성 |
| 대분류 | CCTV |  |
| 소분류 | 실외형 |  |
| 자재명 | IP카메라 2MP 실외형 |  |
| 모델명 | XNO-6120R |  |
| 규격/사양 | 2MP, 1920x1080, IP67 |  |
| 제조사 | 한화테크윈 |  |
| 단위 | 개 |  |
| 단가 | 350,000원 |  |
| 작업 | [수정] 버튼 |  |

**행 클릭:** 자재 상세 모달 오픈

---

## 4. 자재 등록/수정 모달

### 4.1 오픈 조건

- [+ 새 자재 등록] 버튼 클릭 → 등록 모달
- 목록 [수정] 버튼 클릭 → 수정 모달 (기존 데이터 자동 입력)

### 4.2 입력 필드

**필수 입력 (*):**

- 카테고리* (드롭다운: CCTV / 네트워크 / 센서 / 케이블 등)
- 자재명*
- 단위* (개 / 박스 / 세트 / 미터)
- 단가*

**선택 입력:**

- 자재 코드 (자동 생성, 편집 불가)
- 제조사
- 모델명
- 규격/사양
- 시리얼 관리 여부 (토글/체크박스)
- 안전재고 수량
- 납기 소요일 (일 단위)
- 설명 (textarea)
- 자재 이미지 (이미지 파일 업로드)

### 4.3 [저장] 버튼

**유효성 검증:**

- 필수 필드 입력 확인
- 미입력 시 해당 필드 포커스 및 알림

**동작 순서:**

1. 필수 필드 검증
2. 자재 코드 자동 생성 (신규 등록 시)
3. 저장 처리
4. 성공 알림
5. 모달 닫기, 목록 갱신

### 4.4 [취소] 버튼

- 모달 닫기, 변경사항 없음

---

## 5. 자재 상세 모달

### 5.1 오픈 조건

- 목록 행 클릭

### 5.2 표시 정보

- 자재의 모든 정보 (읽기 전용)
- 자재 이미지 표시
- 현재 재고 현황 요약

### 5.3 버튼

- [수정]: 자재 수정 모달 오픈
- [닫기]: 모달 닫기

---

## 6. 탭 2: 자재 세트 관리

### 6.1 초기 로드

- 전체 자재 세트 목록 조회

### 6.2 요약 영역

```
전체 세트: 3개 | 총 자재 종류: 19종
```

### 6.3 목록 테이블

**컬럼 구조:**

| 컬럼명 | 표시 내용 |
| --- | --- |
| 세트 코드 | SET-001 |
| 세트명 | 표준 CCTV 세트 (16채널) |
| 자재 수 | 8종 |
| 작성일 | 2024-01-10 |
| 작업 | [수정] 버튼 |

**행 클릭:** 세트 상세 모달 오픈

---

## 7. 세트 상세 모달

### 7.1 오픈 조건

- 세트 목록 행 클릭

### 7.2 표시 정보

**기본 정보:**

- 세트 코드
- 세트명
- 자재 수
- 작성일

**구성 자재 목록:**

| 컬럼 | 내용 |
| --- | --- |
| 자재명 | IP카메라 2MP 실외형 |
| 규격 | 2MP, 1920x1080, IP67 |
| 수량 | 50 |
| 단위 | 개 |

### 7.3 버튼

- [닫기]: 모달 닫기

---

## 8. 세트 등록/수정 모달

### 8.1 오픈 조건

- [+ 새 세트 등록] 버튼 클릭 (향후 추가)
- 세트 목록 [수정] 버튼 클릭

### 8.2 입력 필드

**세트명* (필수):**

- 텍스트 입력

**구성 자재* (필수):**

- 자재 검색 입력 + [+ 추가] 버튼
- 추가된 자재 목록 테이블: 자재명 / 규격 / 수량 / 단위 / 삭제
- 드래그 앤 드롭으로 순서 변경 가능

### 8.3 [저장] 버튼

**유효성 검증:**

- 세트명 입력 확인
- 구성 자재 최소 1개 이상

**동작:**

1. 검증 통과
2. 세트 저장
3. 성공 알림
4. 모달 닫기, 목록 갱신

### 8.4 [취소] 버튼

- 모달 닫기, 변경사항 없음

---

## 9. 비즈니스 규칙

### 9.1 자재 코드 생성

- 자동 생성 (수동 입력 불가)
- 카테고리 접두어 + 일련번호 형식

### 9.2 시리얼 관리 여부

- 시리얼 관리 대상 자재: 개별 시리얼 번호로 추적
- 비대상 자재: 수량 단위로만 관리

### 9.3 안전재고

- 설정 시 재고 현황에서 미달 여부 자동 판단

---

## 10. 에러 처리

| 상황 | 메시지 |
| --- | --- |
| 필수 필드 누락 | "필수 항목을 입력해주세요." |
| 구성 자재 없음 | "구성 자재를 추가해주세요." |
| 이미지 형식 오류 | "이미지 파일만 업로드 가능합니다." |

---

## 11. 개발 체크리스트

### 11.1 필수 구현 사항

- [ ]  자재 목록 조회 및 필터링
- [ ]  자재 등록/수정/상세 조회
- [ ]  자재 코드 자동 생성
- [ ]  이미지 업로드
- [ ]  세트 목록 조회
- [ ]  세트 등록/수정/상세 조회
- [ ]  세트 구성 자재 드래그 앤 드롭

### 11.2 비즈니스 로직

- [ ]  시리얼 관리 여부 설정
- [ ]  안전재고 수량 설정
- [ ]  납기 소요일 관리

---

## 12. 관련 화면

- 재고 관리: 자재 마스터 데이터 참조
- 발주 등록: 세트 불러오기
- 출고 등록: 자재 검색/선택

---
